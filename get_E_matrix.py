from get_F_matrix import F
import numpy as np
# Essential matrix = left image intrinsic^{T} x Fundamental matrix x right image intrinsic

# K_00: 9.842439e+02 0.000000e+00 6.900000e+02 0.000000e+00 9.808141e+02 2.331966e+02 0.000000e+00 0.000000e+00 1.000000e+00

left_K = np.array([[9.842439e+02, 0.000000e+00, 6.900000e+02],
                   [0.000000e+00, 9.808141e+02, 2.331966e+02],
                   [0.000000e+00, 0.000000e+00, 1.000000e+00]])

# K_01: 9.895267e+02 0.000000e+00 7.020000e+02 0.000000e+00 9.878386e+02 2.455590e+02 0.000000e+00 0.000000e+00 1.000000e+00
right_K = np.array([[9.895267e+02, 0.000000e+00, 7.020000e+02],
                    [0.000000e+00, 9.878386e+02, 2.455590e+02],
                    [0.000000e+00, 0.000000e+00, 1.000000e+00]])

E = (left_K).T @ F @ right_K

print(E)

# [[  22.11812496 -344.09238765   14.50289296]
#  [ 389.17323842   -1.30235311  416.37876281]
#  [  15.34576545 -396.61521815    5.85778646]]